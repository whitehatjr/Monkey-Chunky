var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectSpread2=_interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _color=_interopRequireDefault(require("color"));var _InputLabel=_interopRequireDefault(require("./Label/InputLabel"));var _constants=require("./constants");var _helpers=require("./helpers");var _jsxFileName="/Users/satya/Workspace/Callstack/react-native-paper/src/components/TextInput/TextInputFlat.tsx";var MINIMIZED_LABEL_Y_OFFSET=-18;var LABEL_PADDING_TOP=30;var LABEL_PADDING_TOP_DENSE=24;var MIN_HEIGHT=64;var MIN_DENSE_HEIGHT_WL=52;var MIN_DENSE_HEIGHT=40;var INPUT_OFFSET=8;var TextInputFlat=function(_React$Component){(0,_inherits2.default)(TextInputFlat,_React$Component);function TextInputFlat(){(0,_classCallCheck2.default)(this,TextInputFlat);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(TextInputFlat).apply(this,arguments));}(0,_createClass2.default)(TextInputFlat,[{key:"render",value:function render(){var _this$props=this.props,disabled=_this$props.disabled,editable=_this$props.editable,label=_this$props.label,error=_this$props.error,selectionColor=_this$props.selectionColor,underlineColor=_this$props.underlineColor,dense=_this$props.dense,style=_this$props.style,theme=_this$props.theme,render=_this$props.render,multiline=_this$props.multiline,parentState=_this$props.parentState,innerRef=_this$props.innerRef,onFocus=_this$props.onFocus,onBlur=_this$props.onBlur,onChangeText=_this$props.onChangeText,onLayoutAnimatedText=_this$props.onLayoutAnimatedText,rest=(0,_objectWithoutProperties2.default)(_this$props,["disabled","editable","label","error","selectionColor","underlineColor","dense","style","theme","render","multiline","parentState","innerRef","onFocus","onBlur","onChangeText","onLayoutAnimatedText"]);var colors=theme.colors,fonts=theme.fonts;var font=fonts.regular;var hasActiveOutline=parentState.focused||error;var _ref=_reactNative.StyleSheet.flatten(style)||{},fontSizeStyle=_ref.fontSize,fontWeight=_ref.fontWeight,height=_ref.height,paddingHorizontal=_ref.paddingHorizontal,viewStyle=(0,_objectWithoutProperties2.default)(_ref,["fontSize","fontWeight","height","paddingHorizontal"]);var fontSize=fontSizeStyle||_constants.MAXIMIZED_LABEL_FONT_SIZE;var paddingOffset=paddingHorizontal!==undefined&&typeof paddingHorizontal==='number'?{paddingHorizontal:paddingHorizontal}:_reactNative.StyleSheet.flatten(styles.paddingOffset);var inputTextColor,activeColor,underlineColorCustom,placeholderColor;if(disabled){inputTextColor=activeColor=(0,_color.default)(colors.text).alpha(0.54).rgb().string();placeholderColor=colors.disabled;underlineColorCustom='transparent';}else{inputTextColor=colors.text;activeColor=error?colors.error:colors.primary;placeholderColor=colors.placeholder;underlineColorCustom=underlineColor||colors.disabled;}var containerStyle={backgroundColor:theme.dark?(0,_color.default)(colors.background).lighten(0.24).rgb().string():(0,_color.default)(colors.background).darken(0.06).rgb().string(),borderTopLeftRadius:theme.roundness,borderTopRightRadius:theme.roundness};var labelScale=_constants.MINIMIZED_LABEL_FONT_SIZE/fontSize;var fontScale=_constants.MAXIMIZED_LABEL_FONT_SIZE/fontSize;var labelWidth=parentState.labelLayout.width;var labelHeight=parentState.labelLayout.height;var labelHalfWidth=labelWidth/2;var labelHalfHeight=labelHeight/2;var baseLabelTranslateX=(_reactNative.I18nManager.isRTL?1:-1)*(labelHalfWidth-labelScale*labelWidth/2)+(1-labelScale)*paddingOffset.paddingHorizontal;var minInputHeight=dense?(label?MIN_DENSE_HEIGHT_WL:MIN_DENSE_HEIGHT)-LABEL_PADDING_TOP_DENSE:MIN_HEIGHT-LABEL_PADDING_TOP;var inputHeight=(0,_helpers.calculateInputHeight)(labelHeight,height,minInputHeight);var topPosition=(0,_helpers.calculateLabelTopPosition)(labelHeight,inputHeight,multiline&&height?0:!height?minInputHeight/2:0);if(height&&typeof height!=='number')console.warn('Currently we support only numbers in height prop');var paddingSettings={height:height?+height:null,labelHalfHeight:labelHalfHeight,offset:INPUT_OFFSET,multiline:multiline?multiline:null,dense:dense?dense:null,topPosition:topPosition,fontSize:fontSize,label:label,scale:fontScale,isAndroid:_reactNative.Platform.OS==='android',styles:_reactNative.StyleSheet.flatten(dense?styles.inputFlatDense:styles.inputFlat)};var pad=(0,_helpers.calculatePadding)(paddingSettings);var paddingFlat=(0,_helpers.adjustPaddingFlat)((0,_objectSpread2.default)({},paddingSettings,{pad:pad}));var baseLabelTranslateY=-labelHalfHeight-(topPosition+MINIMIZED_LABEL_Y_OFFSET);var placeholderOpacity=hasActiveOutline?(0,_helpers.interpolatePlaceholder)(parentState.labeled,hasActiveOutline):parentState.labelLayout.measured?1:0;var labelProps={label:label,onLayoutAnimatedText:onLayoutAnimatedText,placeholderOpacity:placeholderOpacity,error:error,placeholderStyle:styles.placeholder,baseLabelTranslateY:baseLabelTranslateY,baseLabelTranslateX:baseLabelTranslateX,font:font,fontSize:fontSize,fontWeight:fontWeight,labelScale:labelScale,wiggleOffsetX:_constants.LABEL_WIGGLE_X_OFFSET,topPosition:topPosition,paddingOffset:paddingOffset,hasActiveOutline:hasActiveOutline,activeColor:activeColor,placeholderColor:placeholderColor};var minHeight=height||(dense?label?MIN_DENSE_HEIGHT_WL:MIN_DENSE_HEIGHT:MIN_HEIGHT);var flatHeight=inputHeight+(!height?dense?LABEL_PADDING_TOP_DENSE:LABEL_PADDING_TOP:0);return React.createElement(_reactNative.View,{style:[containerStyle,viewStyle],__source:{fileName:_jsxFileName,lineNumber:216}},React.createElement(Underline,{parentState:parentState,underlineColorCustom:underlineColorCustom,error:error,colors:colors,activeColor:activeColor,__source:{fileName:_jsxFileName,lineNumber:217}}),React.createElement(_reactNative.View,{style:{paddingTop:0,paddingBottom:0,minHeight:minHeight},__source:{fileName:_jsxFileName,lineNumber:224}},React.createElement(_InputLabel.default,{parentState:parentState,labelProps:labelProps,__source:{fileName:_jsxFileName,lineNumber:231}}),render&&render((0,_objectSpread2.default)({},rest,{ref:innerRef,onChangeText:onChangeText,placeholder:label?parentState.placeholder:this.props.placeholder,placeholderTextColor:placeholderColor,editable:!disabled&&editable,selectionColor:typeof selectionColor==='undefined'?activeColor:selectionColor,onFocus:onFocus,onBlur:onBlur,underlineColorAndroid:'transparent',multiline:multiline,style:[styles.input,paddingOffset,!multiline||multiline&&height?{height:flatHeight}:{},paddingFlat,(0,_objectSpread2.default)({},font,{fontSize:fontSize,fontWeight:fontWeight,color:inputTextColor,textAlignVertical:multiline?'top':'center'})]}))));}}]);return TextInputFlat;}(React.Component);TextInputFlat.defaultProps={disabled:false,error:false,multiline:false,editable:true,render:function render(props){return React.createElement(_reactNative.TextInput,(0,_extends2.default)({},props,{__source:{fileName:_jsxFileName,lineNumber:47}}));}};var _default=TextInputFlat;exports.default=_default;var Underline=function Underline(_ref2){var parentState=_ref2.parentState,error=_ref2.error,colors=_ref2.colors,activeColor=_ref2.activeColor,underlineColorCustom=_ref2.underlineColorCustom;var backgroundColor=parentState.focused?activeColor:underlineColorCustom;if(error)backgroundColor=colors.error;return React.createElement(_reactNative.Animated.View,{style:[styles.underline,{backgroundColor:backgroundColor,transform:[{scaleY:parentState.focused?1:0.5}]}],__source:{fileName:_jsxFileName,lineNumber:300}});};var styles=_reactNative.StyleSheet.create({placeholder:{position:'absolute',left:0},underline:{position:'absolute',left:0,right:0,bottom:0,height:2},input:{flexGrow:1,margin:0,textAlign:_reactNative.I18nManager.isRTL?'right':'left',zIndex:1},inputFlat:{paddingTop:24,paddingBottom:4},inputFlatDense:{paddingTop:22,paddingBottom:2},paddingOffset:{paddingHorizontal:_constants.LABEL_PADDING_HORIZONTAL}});
//# sourceMappingURL=TextInputFlat.js.map