{"version":3,"sources":["PortalManager.tsx"],"names":["React","View","StyleSheet","PortalManager","state","portals","mount","key","children","setState","update","map","item","unmount","filter","absoluteFill","PureComponent"],"mappings":"0kBAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,cAAjC,C,GAYqBC,CAAAA,a,kaACnBC,K,CAAe,CACbC,OAAO,CAAE,EADI,C,OAIfC,K,CAAQ,SAACC,GAAD,CAAcC,QAAd,CAA4C,CAClD,MAAKC,QAAL,CAAc,SAAAL,KAAK,QAAK,CACtBC,OAAO,8BAAMD,KAAK,CAACC,OAAZ,GAAqB,CAAEE,GAAG,CAAHA,GAAF,CAAOC,QAAQ,CAARA,QAAP,CAArB,EADe,CAAL,EAAnB,EAGD,C,OAEDE,M,CAAS,SAACH,GAAD,CAAcC,QAAd,QACP,OAAKC,QAAL,CAAc,SAAAL,KAAK,QAAK,CACtBC,OAAO,CAAED,KAAK,CAACC,OAAN,CAAcM,GAAd,CAAkB,SAAAC,IAAI,CAAI,CACjC,GAAIA,IAAI,CAACL,GAAL,GAAaA,GAAjB,CAAsB,CACpB,wBAAYK,IAAZ,EAAkBJ,QAAQ,CAARA,QAAlB,GACD,CACD,MAAOI,CAAAA,IAAP,CACD,CALQ,CADa,CAAL,EAAnB,CADO,E,OAUTC,O,CAAU,SAACN,GAAD,QACR,OAAKE,QAAL,CAAc,SAAAL,KAAK,QAAK,CACtBC,OAAO,CAAED,KAAK,CAACC,OAAN,CAAcS,MAAd,CAAqB,SAAAF,IAAI,QAAIA,CAAAA,IAAI,CAACL,GAAL,GAAaA,GAAjB,EAAzB,CADa,CAAL,EAAnB,CADQ,E,gFAKD,CACP,MAAO,MAAKH,KAAL,CAAWC,OAAX,CAAmBM,GAAnB,CAAuB,kBAAGJ,CAAAA,GAAH,MAAGA,GAAH,CAAQC,QAAR,MAAQA,QAAR,OAC5B,qBAAC,IAAD,EACE,GAAG,CAAED,GADP,CAEE,WAAW,CACT,KAHJ,CAKE,aAAa,CAAC,UALhB,CAME,KAAK,CAAEL,UAAU,CAACa,YANpB,iDAQGP,QARH,CAD4B,EAAvB,CAAP,CAYD,C,2BAvCwCR,KAAK,CAACgB,a,SAA5Bb,a","sourcesContent":["import * as React from 'react';\nimport { View, StyleSheet } from 'react-native';\n\ntype State = {\n  portals: Array<{\n    key: number;\n    children: React.ReactNode;\n  }>;\n};\n\n/**\n * Portal host is the component which actually renders all Portals.\n */\nexport default class PortalManager extends React.PureComponent<{}, State> {\n  state: State = {\n    portals: [],\n  };\n\n  mount = (key: number, children: React.ReactNode) => {\n    this.setState(state => ({\n      portals: [...state.portals, { key, children }],\n    }));\n  };\n\n  update = (key: number, children: React.ReactNode) =>\n    this.setState(state => ({\n      portals: state.portals.map(item => {\n        if (item.key === key) {\n          return { ...item, children };\n        }\n        return item;\n      }),\n    }));\n\n  unmount = (key: number) =>\n    this.setState(state => ({\n      portals: state.portals.filter(item => item.key !== key),\n    }));\n\n  render() {\n    return this.state.portals.map(({ key, children }) => (\n      <View\n        key={key}\n        collapsable={\n          false /* Need collapsable=false here to clip the elevations, otherwise they appear above sibling components */\n        }\n        pointerEvents=\"box-none\"\n        style={StyleSheet.absoluteFill}\n      >\n        {children}\n      </View>\n    ));\n  }\n}\n"]}