import _extends from"@babel/runtime/helpers/extends";import _objectSpread from"@babel/runtime/helpers/objectSpread";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";import _classCallCheck from"@babel/runtime/helpers/classCallCheck";import _createClass from"@babel/runtime/helpers/createClass";import _possibleConstructorReturn from"@babel/runtime/helpers/possibleConstructorReturn";import _getPrototypeOf from"@babel/runtime/helpers/getPrototypeOf";import _inherits from"@babel/runtime/helpers/inherits";var _jsxFileName="/Users/satya/Workspace/Callstack/react-native-paper/src/components/Button.tsx";import*as React from'react';import{Animated,View,StyleSheet}from'react-native';import color from'color';import ActivityIndicator from'./ActivityIndicator';import Icon from'./Icon';import Surface from'./Surface';import Text from'./Typography/Text';import TouchableRipple from'./TouchableRipple';import{black,white}from'../styles/colors';import{withTheme}from'../core/theming';var Button=function(_React$Component){_inherits(Button,_React$Component);function Button(){var _getPrototypeOf2;var _this;_classCallCheck(this,Button);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Button)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={elevation:new Animated.Value(_this.props.mode==='contained'?2:0)};_this.handlePressIn=function(){if(_this.props.mode==='contained'){Animated.timing(_this.state.elevation,{toValue:8,duration:200}).start();}};_this.handlePressOut=function(){if(_this.props.mode==='contained'){Animated.timing(_this.state.elevation,{toValue:2,duration:150}).start();}};return _this;}_createClass(Button,[{key:"render",value:function render(){var _this$props=this.props,disabled=_this$props.disabled,compact=_this$props.compact,mode=_this$props.mode,dark=_this$props.dark,loading=_this$props.loading,icon=_this$props.icon,buttonColor=_this$props.color,children=_this$props.children,uppercase=_this$props.uppercase,accessibilityLabel=_this$props.accessibilityLabel,onPress=_this$props.onPress,style=_this$props.style,theme=_this$props.theme,contentStyle=_this$props.contentStyle,labelStyle=_this$props.labelStyle,rest=_objectWithoutProperties(_this$props,["disabled","compact","mode","dark","loading","icon","color","children","uppercase","accessibilityLabel","onPress","style","theme","contentStyle","labelStyle"]);var colors=theme.colors,roundness=theme.roundness;var font=theme.fonts.medium;var backgroundColor,borderColor,textColor,borderWidth;if(mode==='contained'){if(disabled){backgroundColor=color(theme.dark?white:black).alpha(0.12).rgb().string();}else if(buttonColor){backgroundColor=buttonColor;}else{backgroundColor=colors.primary;}}else{backgroundColor='transparent';}if(mode==='outlined'){borderColor=color(theme.dark?white:black).alpha(0.29).rgb().string();borderWidth=StyleSheet.hairlineWidth;}else{borderColor='transparent';borderWidth=0;}if(disabled){textColor=color(theme.dark?white:black).alpha(0.32).rgb().string();}else if(mode==='contained'){var isDark;if(typeof dark==='boolean'){isDark=dark;}else{isDark=backgroundColor==='transparent'?false:!color(backgroundColor).isLight();}textColor=isDark?white:black;}else if(buttonColor){textColor=buttonColor;}else{textColor=colors.primary;}var rippleColor=color(textColor).alpha(0.32).rgb().string();var buttonStyle={backgroundColor:backgroundColor,borderColor:borderColor,borderWidth:borderWidth,borderRadius:roundness};var touchableStyle={borderRadius:style?StyleSheet.flatten(style).borderRadius||roundness:roundness};var textStyle=_objectSpread({color:textColor},font);var elevation=disabled||mode!=='contained'?0:this.state.elevation;return React.createElement(Surface,_extends({},rest,{style:[styles.button,compact&&styles.compact,{elevation:elevation},buttonStyle,style],__source:{fileName:_jsxFileName,lineNumber:244}}),React.createElement(TouchableRipple,{borderless:true,delayPressIn:0,onPress:onPress,onPressIn:this.handlePressIn,onPressOut:this.handlePressOut,accessibilityLabel:accessibilityLabel,accessibilityTraits:disabled?['button','disabled']:'button',accessibilityComponentType:"button",accessibilityRole:"button",accessibilityStates:disabled?['disabled']:[],disabled:disabled,rippleColor:rippleColor,style:touchableStyle,__source:{fileName:_jsxFileName,lineNumber:254}},React.createElement(View,{style:[styles.content,contentStyle],__source:{fileName:_jsxFileName,lineNumber:269}},icon&&loading!==true?React.createElement(View,{style:styles.icon,__source:{fileName:_jsxFileName,lineNumber:271}},React.createElement(Icon,{source:icon,size:16,color:textColor,__source:{fileName:_jsxFileName,lineNumber:272}})):null,loading?React.createElement(ActivityIndicator,{size:16,color:textColor,style:styles.icon,__source:{fileName:_jsxFileName,lineNumber:276}}):null,React.createElement(Text,{numberOfLines:1,style:[styles.label,compact&&styles.compactLabel,uppercase&&styles.uppercaseLabel,textStyle,font,labelStyle],__source:{fileName:_jsxFileName,lineNumber:282}},children))));}}]);return Button;}(React.Component);Button.defaultProps={mode:'text',uppercase:true};var styles=StyleSheet.create({button:{minWidth:64,borderStyle:'solid'},compact:{minWidth:'auto'},content:{flexDirection:'row',alignItems:'center',justifyContent:'center'},icon:{width:16,marginLeft:12,marginRight:-4},label:{textAlign:'center',letterSpacing:1,marginVertical:9,marginHorizontal:16},compactLabel:{marginHorizontal:8},uppercaseLabel:{textTransform:'uppercase'}});export default withTheme(Button);
//# sourceMappingURL=Button.js.map