import _classCallCheck from"@babel/runtime/helpers/classCallCheck";import _createClass from"@babel/runtime/helpers/createClass";import _possibleConstructorReturn from"@babel/runtime/helpers/possibleConstructorReturn";import _getPrototypeOf from"@babel/runtime/helpers/getPrototypeOf";import _inherits from"@babel/runtime/helpers/inherits";var _jsxFileName="/Users/satya/Workspace/Callstack/react-native-paper/src/components/CrossFadeIcon.tsx";import*as React from'react';import{Animated,StyleSheet,View}from'react-native';import Icon,{isValidIcon,isEqualIcon}from'./Icon';import{withTheme}from'../core/theming';var CrossFadeIcon=function(_React$Component){_inherits(CrossFadeIcon,_React$Component);function CrossFadeIcon(){var _getPrototypeOf2;var _this;_classCallCheck(this,CrossFadeIcon);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CrossFadeIcon)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={currentIcon:_this.props.source,previousIcon:null,fade:new Animated.Value(1)};return _this;}_createClass(CrossFadeIcon,[{key:"componentDidUpdate",value:function componentDidUpdate(_,prevState){var previousIcon=this.state.previousIcon;var scale=this.props.theme.animation.scale;if(!isValidIcon(previousIcon)||isEqualIcon(previousIcon,prevState.previousIcon)){return;}this.state.fade.setValue(1);Animated.timing(this.state.fade,{duration:scale*200,toValue:0}).start();}},{key:"render",value:function render(){var _this$props=this.props,color=_this$props.color,size=_this$props.size;var opacityPrev=this.state.fade;var opacityNext=this.state.previousIcon?this.state.fade.interpolate({inputRange:[0,1],outputRange:[1,0]}):1;var rotatePrev=this.state.fade.interpolate({inputRange:[0,1],outputRange:['-90deg','0deg']});var rotateNext=this.state.previousIcon?this.state.fade.interpolate({inputRange:[0,1],outputRange:['0deg','-180deg']}):'0deg';return React.createElement(View,{style:[styles.content,{height:size,width:size}],__source:{fileName:_jsxFileName,lineNumber:97}},this.state.previousIcon?React.createElement(Animated.View,{style:[styles.icon,{opacity:opacityPrev,transform:[{rotate:rotatePrev}]}],__source:{fileName:_jsxFileName,lineNumber:107}},React.createElement(Icon,{source:this.state.previousIcon,size:size,color:color,__source:{fileName:_jsxFileName,lineNumber:116}})):null,React.createElement(Animated.View,{style:[styles.icon,{opacity:opacityNext,transform:[{rotate:rotateNext}]}],__source:{fileName:_jsxFileName,lineNumber:119}},React.createElement(Icon,{source:this.state.currentIcon,size:size,color:color,__source:{fileName:_jsxFileName,lineNumber:128}})));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,nextState){if(nextState.currentIcon===nextProps.source){return null;}return{currentIcon:nextProps.source,previousIcon:nextState.currentIcon};}}]);return CrossFadeIcon;}(React.Component);export default withTheme(CrossFadeIcon);var styles=StyleSheet.create({content:{alignItems:'center',justifyContent:'center'},icon:{position:'absolute',top:0,left:0,right:0,bottom:0}});
//# sourceMappingURL=CrossFadeIcon.js.map