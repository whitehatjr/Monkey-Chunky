{"version":3,"file":"ExponentNotifications.fx.web.js","sourceRoot":"","sources":["../../src/Notifications/ExponentNotifications.fx.web.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,+BAA+B,CAAC;AAC1D,OAAO,EAAE,gBAAgB,EAAE,MAAM,iBAAiB,CAAC;AACnD,OAAO,EAAE,yBAAyB,EAAE,MAAM,mCAAmC,CAAC;AAE9E,IAAI,SAAS,IAAI,eAAe,IAAI,SAAS,EAAE;IAC7C,SAAS,CAAC,aAAa,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;QAC1D,gBAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC,CAAC,CAAC;IAEH,SAAS,CAAC,aAAa,CAAC,gBAAgB,CAAC,wBAAwB,EAAE,KAAK,EAAC,KAAK,EAAC,EAAE;QAC/E,4CAA4C;QAC5C,MAAM,yBAAyB,EAAE,CAAC;IACpC,CAAC,CAAC,CAAC;CACJ","sourcesContent":["import { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport { emitNotification } from './Notifications';\nimport { getExponentPushTokenAsync } from './ExponentNotificationsHelper.web';\n\nif (canUseDOM && 'serviceWorker' in navigator) {\n  navigator.serviceWorker.addEventListener('message', event => {\n    emitNotification(event.data);\n  });\n\n  navigator.serviceWorker.addEventListener('pushsubscriptionchange', async event => {\n    // Updates Expo token with new device token.\n    await getExponentPushTokenAsync();\n  });\n}\n"]}